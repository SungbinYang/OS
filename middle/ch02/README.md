> 이 포스트는 [감자님 강의](https://www.inflearn.com/course/%EB%B9%84%EC%A0%84%EA%B3%B5%EC%9E%90-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard '인프런 강의')를 기반으로 작성되었습니다.

## CPU 스케줄링 개요

컴퓨터의 자원은 다음과 같다. CPU와 메모리 같은 필수장치와 하드디스크, 키보드, 마우스와 같은 주변장치가 있다. 이번시간부터 필수장치인 CPU에 대해 알아보자. 프로그램을 실행시키면 메모리에 프로세스가 생성되고 각 프로세스에는 1개 이상의 쓰레드가 존재한다. 프로세스들은 CPU를 할당/해제하는데 이를 CPU 스케줄링이라고 한다.

CPU 스케줄링에서 스케줄러(운영체제)가 고려해야 할 사항은 2가지이다. 첫째, "어떤 프로세스에게 CPU 리소스를 줘야하는가?"이다. 메모리에는 수많은 프로세스들이 있는데 여기서 "어떤 프로세스에게 CPU 사용권을 줘야 하는가?" 하는 문제이다. 한 프로세스에게만 계속 할당하면 다른 프로세스들이 불만을 제기할 것이다. 둘째, "CPU를 할당받은 프로세스가 얼마의 시간 동안 CPU를 사용해야 하는가?"이다. 오늘날은 시분할 처리방식으로 여러 프로세스에게 짧은 시간 동안 돌아가면서 CPU를 할당한다. 예를 들어 프로세스 A에게 1초 동안 CPU 이용권을 주고 1초가 지나면 CPU를 뺏어서 프로세스 B에게 1초 동안 CPU 이용권을 주는 방식이다. 지금 말한 이 2가지 고려사항이 컴퓨터 성능에 굉장히 큰 영향을 끼친다.

> CPU를 할당받아 실행하는 작업을 CPU Burst, 입출력 작업을 I/O Burst라고 한다.

> 이 포스트는 [감자님 강의](https://www.inflearn.com/course/%EB%B9%84%EC%A0%84%EA%B3%B5%EC%9E%90-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard '인프런 강의')를 기반으로 작성되었습니다.

## 다중 큐

이전에 배웠던 프로세스 상태를 다시 살펴보겠다. 프로세스가 생성되면 준비상태로 전환되고 준비상태에서 CPU를 기다리고 있는 프로세스들은 CPU 스케줄러에 의해 실행상태로 전환된다. 실행상태에 있는 프로세스는 CPU 할당시간이 다 되면 다시 준비상태로 전환되고 입출력 요청이 있다면 대기상태로, 작업이 완료되었다면 완료상태로 전환된다. 여기서 프로세스가 대기하고 있는 준비상태와 대기상태는 큐라는 자료구조로 관리된다. 큐 자료구조는 우리가 마트 계산대에 줄을 서는 것과 같이 먼저 온 사람이 가장 먼저 처리를 받고 나중에 온 사람은 나중에 처리를 받는 구조이다. 먼저 들어온 게 나중에 처리받고 나중에 들어온 게 먼저 처리받는 스택이랑 상반된 구조이다.

프로세스가 실행상태에서 준비상태로 돌아갈 때 운영체제는 해당 프로세스의 우선순위를 보고 그에 맞는 "준비 큐"에 넣는다. CPU 스케줄러는 "준비상태의 다중 큐"에 들어있는 프로세스들 중에 적당한 프로세스를 선택해서 실행상태로 전환시킨다. 프로세스가 실행상태에서 입출력 요청을 받아 대기상태로 오면 입출력 요청에 따라서 분류 된 큐에 들어가게 된다. 예를 들면, HDD 작업은 "HDD 큐"에 넣고 HDD 작업이 완료되어 인터럽트가 날아가면 HDD 큐를 뒤져서 다시 꺼내갑니다. 지금까지 큐에 프로세스가 들어간다고 했는데 정확히는 프로세스의 정보를 가지는 PCB가 들어가 있다.

정리를 해보겠다. 프로세스 정보를 담고 있는 PCB는 준비상태의 다중 큐에 들어가서 실행되기를 기다리고 있고 CPU 스케줄러에 의해 실행상태로 전환된다. 이 때 CPU 스케줄러는 준비상태의 다중 큐를 참조해서 어떤 프로세스를 실행시킬지 결정을 한다. 입출력 작업도 비슷하다. 실행 중인 프로세스에게 입출력 작업이 발생하면 해당 입출력 작업의 종류 별로 나뉜 큐에 들어가고 CPU 스케줄러는 이를 참조해서 스케줄링한다.
